<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Others | zJun's Tech Blog]]></title>
  <link href="http://zjun.github.io/blog/categories/others/atom.xml" rel="self"/>
  <link href="http://zjun.github.io/"/>
  <updated>2014-06-08T00:19:59+08:00</updated>
  <id>http://zjun.github.io/</id>
  <author>
    <name><![CDATA[zJun]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[[转]基于cmpp协议的超长短信格式]]></title>
    <link href="http://zjun.github.io/blog/2006/05/19/cmpp-long-sms-format/"/>
    <updated>2006-05-19T14:55:00+08:00</updated>
    <id>http://zjun.github.io/blog/2006/05/19/cmpp-long-sms-format</id>
    <content type="html"><![CDATA[<p>基于cmpp协议的超长短信格式: 原文在 <a href="http://www.cppblog.com/Khan/archive/2006/03/10/3342.html">这里</a></p>

<!-- more -->


<p>//当短信超过70个汉字时短信的第一部分<br/>
E0 00 00 00               //4byte 数据总长度<br/>
05 00 00 00               //4byte 命令号<br/>
3F 38 0B 01               //4byte 流水号<br/>
31 3B 6E 0B A2 84 61 F0   //8byte msg_id<br/>
30 35 37 37 35 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  //21byte Dest_Id<br/>
00 00 00 00 00 00 00 00 00 00  //10byte  Service_Id<br/>
00                        //1byte TP_pid<br/>
01                        //1byte TP_udhi<br/>
08                        //1byte Msg_Fmt<br/>
38 36 31 33 37 35 30 32 34 33 33 30 33 00 00 00 00 00 00 00 00  //21byte Src_terminal_Id<br/>
00                        //Registered_Delivery<br/>
8B                        //Msg_Length<br/>
06 08 04 00 2A      //06表示短信正文内容从6+2的位置开始读取<br/>
02                        //超长短信总条数<br/>
01                        //序号<br/>
00 61 00 61 00 61 00 61 00 61 00 61 00 61 00 61 00 61 00 61 4E 00 4E 2A 4E BA 6C 11 4E 3B 4E 49 52 A1 5B 9E 57 28 8F D9 4E 2A 4E BA 6C 11 4E 3B 4E 49 52 A1 5B 9E 57 28 8F D9 4E 2A 4E BA 6C 11 4E 3B 4E 49 52 A1 5B 9E 57 28 8F D9 4E 2A 4E BA 6C 11 4E 3B 4E 49 52 A1 5B 9E 57 28 8F D9 4E 2A 4E BA 6C 11 4E 3B 4E 49 52 A1 5B 9E 57 28 8F D9 4E 2A 4E BA 6C 11 4E 3B 00 61 00 61 00 61 00 61 00 61 00 61  //短信内容<br/>
00 00 00 00 00 00 00 00   //8byte Reserved</p>

<p>//当短信超过70个汉字时短信的第二部分<br/>
78 00 00 00<br/>
05 00 00 00<br/>
49 38 0B 01<br/>
31 3B 74 8B A2 84 62 0D<br/>
30 35 37 37 35 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00<br/>
00 00 00 00 00 00 00 00 00 00<br/>
00<br/>
01<br/>
08
38 36 31 33 37 35 30 32 34 33 33 30 33 00 00 00 00 00 00 00 00<br/>
00<br/>
23<br/>
06 08 04 00 2A     //06表示短信正文内容从6+2的位置开始读取<br/>
02                       //超长短信总条数<br/>
02                       //序号<br/>
00 61 00 61 00 61 00 61 00 62 00 62 00 62 00 62 00 62 00 62 00 62 00 62 00 62 00 62  //短信内容<br/>
00 00 00 00 00 00 00 00 00 //8byte Reserved</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[转]CMPP3.0状态报告]]></title>
    <link href="http://zjun.github.io/blog/2006/05/19/cmpp3-dot-0-status-list/"/>
    <updated>2006-05-19T14:26:00+08:00</updated>
    <id>http://zjun.github.io/blog/2006/05/19/cmpp3-dot-0-status-list</id>
    <content type="html"><![CDATA[<h2>CMPP3.0状态报告,原文在<a href="http://tbbs.spforum.net/viewthread.php?fid=43&amp;tid=72656">这里</a>  </h2>

<!-- more -->


<p>CB:0001        非神州行预付费用户     <br/>
CB:0005        PPS用户状态异常（包括未头次使用、储值卡被封锁、储值卡进入保留期、储值卡挂失）     <br/>
CB:0007        用户余额不足
CA 0054  发送消息失败</p>

<p>CB 0001   非神州行预付费用户（用户已经被销号）</p>

<p>CB 0002  数据库操作失败</p>

<p>CB 0053  梦网用户不存在
CB0005 移动用户帐户数据异常</p>

<p>CB0007 用户余额不足
DELIVRD        消息发送成功     <br/>
EXPIRED        表示因为用户长时间关机或者不在服务区等导致的短信息超时没有递交到用户手机上     <br/>
REJECTD        消息因为某些原因被拒绝     <br/>
UNDELIV        表示全球通用户因为状态不正确如处于停机、挂起等状态而导致的用户无法享受服务     <br/>
MC:xxxx        系统未从短信中心接收到状态报告     <br/>
MC:xxxx        没有从SMSC处接收到状态报告时的状态报告</p>

<p>MI:xxxx        同“EXPIRED”     <br/>
MN:xxxx        同“REJECTD”     <br/>
MB:0066 短信中心回的，超作最大发送次数</p>

<p>可能是手机满了。<br/>
MK:0015 可能是手机满了。<br/>
MK:xxxx        同“UNDELIV”<br/>
网关返回大量的DA:0054错误<br/>
原因分析：
  出现这个问题是由于网关发送鉴权批价请求到MISC时，MISC不给响应或者网关和MISC连接阻塞引起；</p>

<p>DB:0100        手机号码不存在     <br/>
DB:0101        手机号码错误     <br/>
DB:0102        用户停机        用户冲值后，要主动上行一条信息到SP，才能激活用户的短信接收服务
DB:0103        用户欠费     <br/>
DB:0104        用户没有使用该业务的权限     <br/>
DB:0105        业务代码错误     <br/>
DB:0106        服务代码错误     <br/>
DB:0107        业务不存在     <br/>
DB:0108        该业务暂停服务     <br/>
DB:0109        该服务种类不存在     <br/>
DB:0110        该服务种类尚未开通     <br/>
DB:0111        该业务尚未开通     <br/>
DB:0112        SP代码错误     <br/>
DB:0113        SP不存在     <br/>
DB:0114        SP暂停服务     <br/>
DB:0115        用户没有定购该业务     <br/>
DB:0116        用户暂停定购该业务     <br/>
DB:0117        该业务不能对该用户开放     <br/>
DB:0118        用户已经订购了该业务     <br/>
DB:0119        用户不能取消该业务     <br/>
DB:0120        话单格式错误     <br/>
DB:0121        没有该类业务     <br/>
DB:0122        接收异常     <br/>
DB:0123        业务价格为负     <br/>
DB:0124        业务价格格式错误     <br/>
DB:0125        业务价格超出范围     <br/>
DB:0126        该用户不是神州行用户     <br/>
DB:0127        该用户没有足够的余额     <br/>
DB:0128        补款,冲正失败     <br/>
DB:0129        用户已经是梦网用户     <br/>
DB:0130        用户在BOSS中没有相关用户数据     <br/>
DB:0131        BOSS系统数据同步出错     <br/>
DB:0132        相关信息不存在     <br/>
DB:0133        用户数据同步出错     <br/>
DB:0134        SP数据同步出错     <br/>
DB:0135        业务数据同步出错     <br/>
DB:0136        用户密码错误     <br/>
DB:0137        伪码信息错误     <br/>
DB:0138        用户相关信息不存在     <br/>
DB:0140        用户未点播该业务     <br/>
DB:9001        网络异常     <br/>
DB:9007        业务网关超过限制的流量</p>
]]></content>
  </entry>
  
</feed>
